<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:aop="http://www.springframework.org/schema/aop"
	xmlns:jee="http://www.springframework.org/schema/jee" xmlns:tx="http://www.springframework.org/schema/tx"
	xmlns:cache="http://www.springframework.org/schema/cache" xmlns:p="http://www.springframework.org/schema/p"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd  
       http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.0.xsd  
       http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-2.0.xsd  
       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.0.xsd
       http://www.springframework.org/schema/cache  http://www.springframework.org/schema/cache/spring-cache-3.1.xsd">

	<!--Database Connection Pool Configuration START -->
	<jee:jndi-lookup id="dataSource" jndi-name="${KEP_DATASOURCE_JNDI_NAME}" />

	<jee:jndi-lookup id="dataSourceDW" jndi-name="${EOADW_DATASOURCE_JNDI_NAME}" />
	<!--Database Connection Pool Configuration END -->

	<!-- Hibernate session configuration -->
	<bean id="sessionFactoryDW"
		class="org.springframework.orm.hibernate3.LocalSessionFactoryBean">
		<property name="dataSource" ref="dataSourceDW" />
		<property name="hibernateProperties">
			<props>
				<prop key="hibernate.dialect">org.hibernate.dialect.OracleDialect</prop>
				<prop key="hibernate.show_sql">false</prop>
				<prop key="hibernate.format_sql">false</prop>
				<prop key="hibernate.cache.provider_class">org.hibernate.cache.EhCacheProvider</prop>
				<prop key="hibernate.cache.use_second_level_cache">true</prop>
				<prop key="hibernate.cache.use_query_cache">true</prop>
				<prop key="hibernate.jdbc.fetch_size">2000</prop>
			</props>
		</property>
	</bean>

	<bean id="sessionFactory"
		class="org.springframework.orm.hibernate3.LocalSessionFactoryBean">
		<property name="dataSource" ref="dataSource" />
		<property name="mappingResources">
			<list>
				<value>
					com/ge/trans/rmd/kep/hibernate/resources/GetKmKepLookupMultilang.hbm.xml
				</value>
				<value>
					com/ge/trans/rmd/kep/hibernate/resources/GetKmKepLookup.hbm.xml
				</value>
				<value>
					com/ge/trans/rmd/kep/hibernate/resources/GetKmRmFailureInfo.hbm.xml
				</value>
				<value>
					com/ge/trans/rmd/kep/hibernate/resources/GetsRmdFaultCodes.hbm.xml
				</value>

				<!-- table mapping from GETS_KEP starts -->
				<value>
					com/ge/trans/rmd/kep/hibernate/resources/Lookup.hbm.xml
				</value>
				<value>
					com/ge/trans/rmd/kep/hibernate/resources/LookupLanguage.hbm.xml
				</value>
				<value>
					com/ge/trans/rmd/kep/hibernate/resources/KsPatternCategory.hbm.xml
				</value>
				<value>
					com/ge/trans/rmd/kep/hibernate/resources/KsResultSummary.hbm.xml
				</value>
				<value>
					com/ge/trans/rmd/kep/hibernate/resources/KsResultDetail.hbm.xml
				</value>
				<value>
					com/ge/trans/rmd/kep/hibernate/resources/UserRequest.hbm.xml
				</value>
				<value>
					com/ge/trans/rmd/kep/hibernate/resources/UserRequestClassification.hbm.xml
				</value>
				<value>
					com/ge/trans/rmd/kep/hibernate/resources/RtAssetResult.hbm.xml
				</value>
				<value>
					com/ge/trans/rmd/kep/hibernate/resources/RtResultDetail.hbm.xml
				</value>
				<value>
					com/ge/trans/rmd/kep/hibernate/resources/RtResultSummary.hbm.xml
				</value>
				<!-- table mapping from GETS_KEP ENDS -->
			</list>
		</property>
		<property name="hibernateProperties">
			<props>
				<prop key="hibernate.dialect">
					org.hibernate.dialect.OracleDialect
				</prop>
				<prop key="hibernate.show_sql">false</prop>
				<prop key="hibernate.format_sql">false</prop>
				<prop key="hibernate.cache.provider_class">
					org.hibernate.cache.EhCacheProvider
				</prop>
				<prop key="hibernate.cache.use_second_level_cache">
					true
				</prop>
				<prop key="hibernate.cache.use_query_cache">true</prop>
				<prop key="hibernate.jdbc.fetch_size">1000</prop>
			</props>
		</property>
	</bean>
	<!-- Hibernate session configuration -->
	<bean id="knowledgeSeekerDAOIntf"
		class="com.ge.trans.eoa.services.kep.knowledgeseeker.dao.impl.KnowledgeSeekerDAOImpl">
		<property name="sessionFactory">
			<ref bean="sessionFactory" />
		</property>
		<property name="sessionFactoryDW">
			<ref bean="sessionFactoryDW" />
		</property>
	</bean>
	<bean id="objTesterResultsDAOIntf"
		class="com.ge.trans.eoa.services.kep.ruletester.dao.impl.RuleTesterResultsDAOImpl">
		<property name="sessionFactory">
			<ref bean="sessionFactory" />
		</property>
		<property name="sessionFactoryDW">
			<ref bean="sessionFactoryDW" />
		</property>
	</bean>
	<bean id="baseDAOIntf"
		class="com.ge.trans.eoa.services.kep.common.dao.impl.BaseDAOImpl">
		<property name="sessionFactory">
			<ref bean="sessionFactory" />
		</property>
	</bean>
	<!-- For Spring caching -->
	<!-- <cache:annotation-driven /> -->
	<!-- <bean id="cacheManager" class="org.springframework.cache.ehcache.EhCacheCacheManager"
		p:cache-manager-ref="ehcache" /> -->
	<!-- <bean id="ehcache"
		class="org.springframework.cache.ehcache.EhCacheManagerFactoryBean"
		p:config-location="classpath:ehcache.xml" p:shared="true" /> -->
	<!-- For Spring caching -->
</beans>
